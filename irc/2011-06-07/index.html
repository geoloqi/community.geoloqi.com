<?xml version="1.0" encoding="utf-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-ca">
<head>
<title>#geoloqi logs - 2011-06-07 - Geoloqi Community</title>
<link rel="stylesheet" type="text/css" href="/themes/geoloqi/design/style.css?v=2.0.18.1" media="all" />
<link rel="stylesheet" type="text/css" href="/plugins/Voting/design/voting.css?v=1.1.1b" media="all" />
<link rel="pingback" href="http://pingback.me/geoloqi/xmlrpc" />
</script>
<style type="text/css">
   .irclogs { font-family: courier, courier new, fixed-width; font-size: 10pt; } .irclogs a.time { color: #999; } .irclogs .msg-join, .msg-join a { color: #bbb; } .irclogs .msg-wiki, .msg-wiki a { color: #542b76; } .irclogs .msg-twitter, .msg-twitter a { color: #345e84; } .irclogs a { color: #222299; } .irclogs .calendar { float: left; margin-right: 24px; margin-bottom: 15px; height: 160px; } .irclogs .calendar-month { font-weight: bold; font-size: 11pt; } .irclogs .calendar th { color: #555; font-size: 8pt; font-weight: bold; text-align: center; } .irclogs .calendar td { text-align: center; color: #eee; font-size: 10pt; } .irclogs .calendar td a { text-decoration: underline; } .irclogs .calendar td.range-100 a, .irclogs .calendar td.range-90 a { color: #b63737; } .irclogs .calendar td.range-80 a, .irclogs .calendar td.range-70 a { color: #b64747; } .irclogs .calendar td.range-60 a, .irclogs .calendar td.range-50 a { color: #b65a5a; } .irclogs .calendar td.range-40 a, .irclogs .calendar td.range-30 a { color: #b66969; } .irclogs .calendar td.range-20 a, .irclogs .calendar td.range-10 a { color: #b67474; } .irclogs .calendar td.range-0 a { color: #b69e9e; } 
  #Content {
    width: 900px;
  }
  #Content .page {
    background: white;
    padding: 5px;
    border-right: 1px #f7f0e7 solid;
    border-left: 1px #f7f0e7 solid;
  }
  #Content .irclogs div {
    line-height: 1em;
    margin-bottom: 3px;
  }
</style>
<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-25750303-8']);
_gaq.push(['_trackPageview']);
(function() {
  var ga = document.createElement('script'); 
  ga.type = 'text/javascript'; 
  ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; 
  s.parentNode.insertBefore(ga, s);})();
</script>
</head>
<body>
   <div id="Frame">
      <div id="Head">
         <div class="Menu">
            <h1><a class="Title" href="/"><span><img src="http://community.geoloqi.com/uploads/UCF5TIEJOT0K.png" alt="Geoloqi Support" /></span></a></h1>
            <ul id="Menu"><li><a href="/dashboard/settings">Dashboard</a></li>
<li class=" Highlight"><a href="/discussions">Discussions</a></li>
<li><a href="/irc/">IRC</a></li>
<li><a href="/messages/all">Inbox</a></li>
</ul>            <div class="Search"><form method="get" action="/search">
<div>
<input type="text" id="Form_Search" name="Search" value="" class="InputBox" /><input type="submit" id="Form_Go" value="Go" class="Button" />
</div>
</form></div>
         </div>
      </div>
      <div id="Body">
         <div id="Content">
<div class="Tabs HeadingTabs DiscussionTabs FirstPage">
  <ul>
    <li><a href="/irc/2011-06-06" class="TabLink">Previous: Jun 6</a></li>
    <li><a href="/irc/2011-06-08" class="TabLink">Next: Jun 8</a></li>
    <li><a href="/irc/" class="TabLink">Index</a></li>
  </ul>
  <div class="SubTab">Geoloqi IRC</div>
</div>
<div class="page">

<h2>2011-06-07</h2>

<div class="irclogs">
<div id="t1307432751000" class="msg-message"><a href="/irc/2011-06-07#t1307432751000" class="time">00:45</a> &lt;Wraithan&gt; tjgillies: the payment gateway we use at work, when it fails hard, it sends back html 404/500. It is not XHTML so it makes the XML parser I used go fuckin nuts :(</div>
<div id="t1307432758000" class="msg-message"><a href="/irc/2011-06-07#t1307432758000" class="time">00:45</a> &lt;Loqi&gt; aww, cheer up</div>
<div id="t1307439956000" class="msg-join"><a href="/irc/2011-06-07#t1307439956000" class="time">02:45</a> aaronpk joined #geoloqi</div>
<div id="t1307461987000" class="msg-message"><a href="/irc/2011-06-07#t1307461987000" class="time">08:53</a> &lt;aaronpk&gt; Wraithan: lol that sucks. check the request status code or something</div>
<div id="t1307463004000" class="msg-join"><a href="/irc/2011-06-07#t1307463004000" class="time">09:10</a> MarkDilley joined #geoloqi</div>
<div id="t1307464408000" class="msg-join"><a href="/irc/2011-06-07#t1307464408000" class="time">09:33</a> caseorganic-m joined #geoloqi</div>
<div id="t1307465334000" class="msg-join"><a href="/irc/2011-06-07#t1307465334000" class="time">09:48</a> AgentOO7 joined #geoloqi</div>
<div id="t1307465402000" class="msg-message"><a href="/irc/2011-06-07#t1307465402000" class="time">09:50</a> &lt;AgentOO7&gt; Aaron, I got my iOS app to authenticate to the geoloqi service and register its APN token, but now broadcasting doesn't work with both the permanent and temporary OAuth token, unfortunately.</div>
<div id="t1307465469000" class="msg-message"><a href="/irc/2011-06-07#t1307465469000" class="time">09:51</a> &lt;aaronpk&gt; ok, let me check it out</div>
<div id="t1307465512000" class="msg-message"><a href="/irc/2011-06-07#t1307465512000" class="time">09:51</a> &lt;AgentOO7&gt; Thanks. I do get the push notifications sent from UrbanAirship's website.</div>
<div id="t1307465533000" class="msg-message"><a href="/irc/2011-06-07#t1307465533000" class="time">09:52</a> &lt;aaronpk&gt; looks like it found the right UA account to use now</div>
<div id="t1307465559000" class="msg-message"><a href="/irc/2011-06-07#t1307465559000" class="time">09:52</a> &lt;aaronpk&gt; and I see a push went out to two devices. can you check your UA logs to see if there are errors there?</div>
<div id="t1307465645000" class="msg-message"><a href="/irc/2011-06-07#t1307465645000" class="time">09:54</a> &lt;AgentOO7&gt; Well, I have been getting warnings about the same inactive device token: Skipped inactive device token: E24F04E8FF221133E8FC3B46571DDCD9 382007FFA25E25DB17B1AB52EC935924  Original Message: {&quot;aps&quot;: {&quot;alert&quot;: {&quot;body&quot;: &quot;Help 33.765106201171875 -84.38817596435547&quot;, &quot;action-loc-key&quot;: null}}, &quot;geoloqi&quot;: {&quot;type&quot;: &quot;message&quot;}}</div>
<div id="t1307465811000" class="msg-message"><a href="/irc/2011-06-07#t1307465811000" class="time">09:56</a> &lt;AgentOO7&gt; Let me try clearing out all my device tokens from UrbanAirship's website.</div>
<div id="t1307465828000" class="msg-message"><a href="/irc/2011-06-07#t1307465828000" class="time">09:57</a> &lt;aaronpk&gt; I only see two devices registered with your client_id, they are 5d8... and 615...</div>
<div id="t1307465854000" class="msg-message"><a href="/irc/2011-06-07#t1307465854000" class="time">09:57</a> &lt;aaronpk&gt; don't bother trying it with the permanent access token, that will only send out a push through the geoloqi app</div>
<div id="t1307465912000" class="msg-message"><a href="/irc/2011-06-07#t1307465912000" class="time">09:58</a> &lt;aaronpk&gt; and make sure you're sending the account/set_apn_token method of the geoloqi api</div>
<div id="t1307465961000" class="msg-message"><a href="/irc/2011-06-07#t1307465961000" class="time">09:59</a> &lt;AgentOO7&gt; Yup, I call set_apn_token within the registerForPushNotification method.</div>
<div id="t1307465974000" class="msg-message"><a href="/irc/2011-06-07#t1307465974000" class="time">09:59</a> &lt;aaronpk&gt; ok great, so I see two tokens that were set that way</div>
<div id="t1307465982000" class="msg-message"><a href="/irc/2011-06-07#t1307465982000" class="time">09:59</a> &lt;aaronpk&gt; an iphone and an ipad</div>
<div id="t1307466020000" class="msg-message"><a href="/irc/2011-06-07#t1307466020000" class="time">10:00</a> &lt;tjgillies&gt; aaronpk: are you gonna add iMessage to geoloqi? ;)</div>
<div id="t1307466058000" class="msg-message"><a href="/irc/2011-06-07#t1307466058000" class="time">10:00</a> &lt;aaronpk&gt; tjgillies: I haven't read the developer docs about imessage yet, do they have apis?</div>
<div id="t1307466069000" class="msg-message"><a href="/irc/2011-06-07#t1307466069000" class="time">10:01</a> &lt;aaronpk&gt; AgentOO7: I saw two pushes attempted to go out through your account</div>
<div id="t1307466075000" class="msg-message"><a href="/irc/2011-06-07#t1307466075000" class="time">10:01</a> &lt;tjgillies&gt; aaronpk: not sure im assuming they do, now im curious</div>
<div id="t1307466081000" class="msg-message"><a href="/irc/2011-06-07#t1307466081000" class="time">10:01</a> &lt;tjgillies&gt; goes to look at docs</div>
<div id="t1307466163000" class="msg-message"><a href="/irc/2011-06-07#t1307466163000" class="time">10:02</a> &lt;AgentOO7&gt; Aaron, yeah, I just tried re-registering my device tokens after clearing them from my UrbanAirship account and then attempted to send another broadcast, but still nothing :-(</div>
<div id="t1307466189000" class="msg-message"><a href="/irc/2011-06-07#t1307466189000" class="time">10:03</a> &lt;aaronpk&gt; hmm, I didn't see an error from UA this time</div>
<div id="t1307466214000" class="msg-message"><a href="/irc/2011-06-07#t1307466214000" class="time">10:03</a> &lt;AgentOO7&gt; And, I made sure I had my geoloqi app running in the background and checking in my location in high-res mode.</div>
<div id="t1307466249000" class="msg-message"><a href="/irc/2011-06-07#t1307466249000" class="time">10:04</a> &lt;aaronpk&gt; ah I have another thought</div>
<div id="t1307466281000" class="msg-message"><a href="/irc/2011-06-07#t1307466281000" class="time">10:04</a> &lt;aaronpk&gt; one sec</div>
<div id="t1307466354000" class="msg-message"><a href="/irc/2011-06-07#t1307466354000" class="time">10:05</a> &lt;aaronpk&gt; ok found the problem, give me a minute</div>
<div id="t1307466513000" class="msg-message"><a href="/irc/2011-06-07#t1307466513000" class="time">10:08</a> &lt;tjgillies&gt; 1 minute until aaronpk done</div>
<div id="t1307466513000" class="msg-message"><a href="/irc/2011-06-07#t1307466513000" class="time">10:08</a> &lt;Loqi&gt; I added a countdown scheduled for 6/7 10:09am</div>
<div id="t1307466541000" class="msg-message"><a href="/irc/2011-06-07#t1307466541000" class="time">10:09</a> &lt;Loqi&gt; aaronpk done</div>
<div id="t1307466553000" class="msg-message"><a href="/irc/2011-06-07#t1307466553000" class="time">10:09</a> &lt;AgentOO7&gt; ;-)</div>
<div id="t1307466579000" class="msg-message"><a href="/irc/2011-06-07#t1307466579000" class="time">10:09</a> &lt;aaronpk&gt; damn</div>
<div id="t1307466596000" class="msg-message"><a href="/irc/2011-06-07#t1307466596000" class="time">10:09</a> &lt;Loqi&gt; hehe</div>
<div id="t1307467101000" class="msg-message"><a href="/irc/2011-06-07#t1307467101000" class="time">10:18</a> &lt;AgentOO7&gt; goes to make himself a cup of sweet tea</div>
<div id="t1307467137000" class="msg-message"><a href="/irc/2011-06-07#t1307467137000" class="time">10:18</a> &lt;aaronpk&gt; nice. almost done.</div>
<div id="t1307468545000" class="msg-message"><a href="/irc/2011-06-07#t1307468545000" class="time">10:42</a> &lt;AgentOO7&gt; has returned</div>
<div id="t1307468708000" class="msg-message"><a href="/irc/2011-06-07#t1307468708000" class="time">10:45</a> &lt;aaronpk&gt; great timing. give it another shot</div>
<div id="t1307470068000" class="msg-join"><a href="/irc/2011-06-07#t1307470068000" class="time">11:07</a> aaronpk joined #geoloqi</div>
<div id="t1307470147000" class="msg-join"><a href="/irc/2011-06-07#t1307470147000" class="time">11:09</a> _aaronpk joined #geoloqi</div>
<div id="t1307470592000" class="msg-join"><a href="/irc/2011-06-07#t1307470592000" class="time">11:16</a> aaronpk joined #geoloqi</div>
<div id="t1307470873000" class="msg-message"><a href="/irc/2011-06-07#t1307470873000" class="time">11:21</a> &lt;aaronpk&gt; AgentOO7: looks like it tried to send to the right account this time, did you get the push to your ipad?</div>
<div id="t1307470880000" class="msg-message"><a href="/irc/2011-06-07#t1307470880000" class="time">11:21</a> &lt;aaronpk&gt; device token starts with 5d886...</div>
<div id="t1307470923000" class="msg-message"><a href="/irc/2011-06-07#t1307470923000" class="time">11:22</a> &lt;AgentOO7&gt; Nope :-( Let me try one more time just to be sure....</div>
<div id="t1307470962000" class="msg-message"><a href="/irc/2011-06-07#t1307470962000" class="time">11:22</a> &lt;AgentOO7&gt; Hmmm...still nothing.</div>
<div id="t1307470999000" class="msg-message"><a href="/irc/2011-06-07#t1307470999000" class="time">11:23</a> &lt;aaronpk&gt; strange, that looks like it should be working now. Can you verify the device token you get when you register for notifications? I'm getting &quot;5d886...&quot; from you now for the ipad</div>
<div id="t1307471014000" class="msg-message"><a href="/irc/2011-06-07#t1307471014000" class="time">11:23</a> &lt;AgentOO7&gt; Ok lemme check</div>
<div id="t1307471070000" class="msg-message"><a href="/irc/2011-06-07#t1307471070000" class="time">11:24</a> &lt;AgentOO7&gt; Yeah, here's one device token: 5D886A8BE0D40C3182DC57DD03A56B412A26B629416181DF6DD04B5FC5BCEB21</div>
<div id="t1307471084000" class="msg-message"><a href="/irc/2011-06-07#t1307471084000" class="time">11:24</a> &lt;aaronpk&gt; ok and when you send a test push from UA's console to that token you get it?</div>
<div id="t1307471103000" class="msg-message"><a href="/irc/2011-06-07#t1307471103000" class="time">11:25</a> &lt;AgentOO7&gt; Yep, push notifications from UA's console works.</div>
<div id="t1307471164000" class="msg-message"><a href="/irc/2011-06-07#t1307471164000" class="time">11:26</a> &lt;aaronpk&gt; ooh question -- has your app been in the foreground when you're sending these messages?</div>
<div id="t1307471181000" class="msg-message"><a href="/irc/2011-06-07#t1307471181000" class="time">11:26</a> &lt;AgentOO7&gt; Nope</div>
<div id="t1307471245000" class="msg-message"><a href="/irc/2011-06-07#t1307471245000" class="time">11:27</a> &lt;AgentOO7&gt; Well, the app my iPhone that's sending the broadcast, yes. But not for the app on my iPad2, which is receiving the broadcast</div>
<div id="t1307471263000" class="msg-message"><a href="/irc/2011-06-07#t1307471263000" class="time">11:27</a> &lt;aaronpk&gt; k</div>
<div id="t1307471418000" class="msg-message"><a href="/irc/2011-06-07#t1307471418000" class="time">11:30</a> &lt;aaronpk&gt; i'm going to try a few things</div>
<div id="t1307471455000" class="msg-message"><a href="/irc/2011-06-07#t1307471455000" class="time">11:30</a> &lt;AgentOO7&gt; I don't know if this helps, but when I try to send a broadcast from my *iPad*, I got a 403 error: access denied to this layer</div>
<div id="t1307471563000" class="msg-message"><a href="/irc/2011-06-07#t1307471563000" class="time">11:32</a> &lt;aaronpk&gt; hmm, the message/broadcast method only allows sending broadcasts to layers that the authenticating user owns</div>
<div id="t1307471630000" class="msg-message"><a href="/irc/2011-06-07#t1307471630000" class="time">11:33</a> &lt;AgentOO7&gt; Doh. I had assumed that subscribers to a layer can send broadcasts to anyone else subscribed to that layer...</div>
<div id="t1307471730000" class="msg-message"><a href="/irc/2011-06-07#t1307471730000" class="time">11:35</a> &lt;aaronpk&gt; ah, that is an interesting use case we hadn't considered</div>
<div id="t1307471737000" class="msg-message"><a href="/irc/2011-06-07#t1307471737000" class="time">11:35</a> &lt;AgentOO7&gt; Well, I don't want to break your security model, Aaron.</div>
<div id="t1307471771000" class="msg-message"><a href="/irc/2011-06-07#t1307471771000" class="time">11:36</a> &lt;aaronpk&gt; well the way around that is by having your mobile clients make a request to your server, where your server can then make a request to Geoloqi with your app's authentication</div>
<div id="t1307471779000" class="msg-message"><a href="/irc/2011-06-07#t1307471779000" class="time">11:36</a> &lt;AgentOO7&gt; But I was hoping my &quot;good samaritan&quot; app would let people send requests for help to and for anyone subscribed to the layer.</div>
<div id="t1307471803000" class="msg-message"><a href="/irc/2011-06-07#t1307471803000" class="time">11:36</a> &lt;AgentOO7&gt; Ah, true.</div>
<div id="t1307471878000" class="msg-message"><a href="/irc/2011-06-07#t1307471878000" class="time">11:37</a> &lt;AgentOO7&gt; Alright, I'm gonna come back to it. Gonna take a break. Thanks again for all your help!</div>
<div id="t1307471892000" class="msg-message"><a href="/irc/2011-06-07#t1307471892000" class="time">11:38</a> &lt;AgentOO7&gt; takes a break</div>
<div id="t1307471912000" class="msg-message"><a href="/irc/2011-06-07#t1307471912000" class="time">11:38</a> &lt;aaronpk&gt; ok great. i'll see if i can figure out the UA problem in the mean time</div>
<div id="t1307471927000" class="msg-message"><a href="/irc/2011-06-07#t1307471927000" class="time">11:38</a> &lt;AgentOO7&gt; Ok cool</div>
<div id="t1307472767000" class="msg-message"><a href="/irc/2011-06-07#t1307472767000" class="time">11:52</a> &lt;Wraithan&gt; aaronpk: the soap lib I was using didn't give me the option to check, it did the request and everything itself... there is a reason I wont ever use SUDS again.</div>
<div id="t1307472769000" class="msg-message"><a href="/irc/2011-06-07#t1307472769000" class="time">11:52</a> &lt;Wraithan&gt; er</div>
<div id="t1307472770000" class="msg-message"><a href="/irc/2011-06-07#t1307472770000" class="time">11:52</a> &lt;Wraithan&gt; suds</div>
<div id="t1307472777000" class="msg-message"><a href="/irc/2011-06-07#t1307472777000" class="time">11:52</a> &lt;aaronpk&gt; aha</div>
<div id="t1307472924000" class="msg-message"><a href="/irc/2011-06-07#t1307472924000" class="time">11:55</a> &lt;aaronpk&gt; that is unfortunate</div>
<div id="t1307473156000" class="msg-message"><a href="/irc/2011-06-07#t1307473156000" class="time">11:59</a> &lt;Wraithan&gt; yeah, I just do it myself for the most part now, isn't that hard to construct soap objects and send them off.</div>
<div id="t1307473418000" class="msg-message"><a href="/irc/2011-06-07#t1307473418000" class="time">12:03</a> &lt;tjgillies&gt; soap?</div>
<div id="t1307473424000" class="msg-message"><a href="/irc/2011-06-07#t1307473424000" class="time">12:03</a> &lt;tjgillies&gt; heh soap is of the devil</div>
<div id="t1307473429000" class="msg-message"><a href="/irc/2011-06-07#t1307473429000" class="time">12:03</a> &lt;Wraithan&gt; agreed.</div>
<div id="t1307473662000" class="msg-message"><a href="/irc/2011-06-07#t1307473662000" class="time">12:07</a> &lt;tjgillies&gt; Wraithan: <a href="http://public.iwork.com/document/?d=LessonsLearnedFromFailureOfSOAP.key&amp;a=p1355173147">http://public.iwork.com/document/?d=LessonsLearnedFromFailureOfSOAP.key&amp;a=p1355173147</a></div>
<div id="t1307479064000" class="msg-join"><a href="/irc/2011-06-07#t1307479064000" class="time">13:37</a> MarkDilley joined #geoloqi</div>
<div id="t1307482286000" class="msg-join"><a href="/irc/2011-06-07#t1307482286000" class="time">14:31</a> caseorganic-m joined #geoloqi</div>
<div id="t1307490525000" class="msg-join"><a href="/irc/2011-06-07#t1307490525000" class="time">16:48</a> MarkDilley_ joined #geoloqi</div>
<div id="t1307491885000" class="msg-wiki"><a href="/irc/2011-06-07#t1307491885000" class="time">17:11</a> &lt;Loqi&gt; [[API/link/create]]  <a href="http://geoloqi.org/wiki/index.php?diff=716&amp;oldid=427&amp;rcid=747">http://geoloqi.org/wiki/index.php?diff=716&amp;oldid=427&amp;rcid=747</a> * Aaronpk * (+490) </div>
<div id="t1307503671000" class="msg-join"><a href="/irc/2011-06-07#t1307503671000" class="time">20:27</a> MarkDilley joined #geoloqi</div>
<div id="t1307516052000" class="msg-join"><a href="/irc/2011-06-07#t1307516052000" class="time">23:54</a> AgentOO7 joined #geoloqi</div>
</div>

</div>
    </div>
	</body>
</html>
<script src="https://geoloqi.com/offline/geoloqi.js"></script>
