<?xml version="1.0" encoding="utf-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-ca">
<head>
<title>#geoloqi logs - 2011-06-04 - Geoloqi Community</title>
<link rel="stylesheet" type="text/css" href="/themes/geoloqi/design/style.css?v=2.0.18.1" media="all" />
<link rel="stylesheet" type="text/css" href="/plugins/Voting/design/voting.css?v=1.1.1b" media="all" />
<link rel="pingback" href="http://pingback.me/geoloqi/xmlrpc" />
</script>
<style type="text/css">
   .irclogs { font-family: courier, courier new, fixed-width; font-size: 10pt; } .irclogs a.time { color: #999; } .irclogs .msg-join, .msg-join a { color: #bbb; } .irclogs .msg-wiki, .msg-wiki a { color: #542b76; } .irclogs .msg-twitter, .msg-twitter a { color: #345e84; } .irclogs a { color: #222299; } .irclogs .calendar { float: left; margin-right: 24px; margin-bottom: 15px; height: 160px; } .irclogs .calendar-month { font-weight: bold; font-size: 11pt; } .irclogs .calendar th { color: #555; font-size: 8pt; font-weight: bold; text-align: center; } .irclogs .calendar td { text-align: center; color: #eee; font-size: 10pt; } .irclogs .calendar td a { text-decoration: underline; } .irclogs .calendar td.range-100 a, .irclogs .calendar td.range-90 a { color: #b63737; } .irclogs .calendar td.range-80 a, .irclogs .calendar td.range-70 a { color: #b64747; } .irclogs .calendar td.range-60 a, .irclogs .calendar td.range-50 a { color: #b65a5a; } .irclogs .calendar td.range-40 a, .irclogs .calendar td.range-30 a { color: #b66969; } .irclogs .calendar td.range-20 a, .irclogs .calendar td.range-10 a { color: #b67474; } .irclogs .calendar td.range-0 a { color: #b69e9e; } 
  #Content {
    width: 900px;
  }
  #Content .page {
    background: white;
    padding: 5px;
    border-right: 1px #f7f0e7 solid;
    border-left: 1px #f7f0e7 solid;
  }
  #Content .irclogs div {
    line-height: 1em;
    margin-bottom: 3px;
  }
</style>
<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-25750303-8']);
_gaq.push(['_trackPageview']);
(function() {
  var ga = document.createElement('script'); 
  ga.type = 'text/javascript'; 
  ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; 
  s.parentNode.insertBefore(ga, s);})();
</script>
</head>
<body>
   <div id="Frame">
      <div id="Head">
         <div class="Menu">
            <h1><a class="Title" href="/"><span><img src="http://community.geoloqi.com/uploads/UCF5TIEJOT0K.png" alt="Geoloqi Support" /></span></a></h1>
            <ul id="Menu"><li><a href="/dashboard/settings">Dashboard</a></li>
<li class=" Highlight"><a href="/discussions">Discussions</a></li>
<li><a href="/irc/">IRC</a></li>
<li><a href="/messages/all">Inbox</a></li>
</ul>            <div class="Search"><form method="get" action="/search">
<div>
<input type="text" id="Form_Search" name="Search" value="" class="InputBox" /><input type="submit" id="Form_Go" value="Go" class="Button" />
</div>
</form></div>
         </div>
      </div>
      <div id="Body">
         <div id="Content">
<div class="Tabs HeadingTabs DiscussionTabs FirstPage">
  <ul>
    <li><a href="/irc/2011-06-03" class="TabLink">Previous: Jun 3</a></li>
    <li><a href="/irc/2011-06-05" class="TabLink">Next: Jun 5</a></li>
    <li><a href="/irc/" class="TabLink">Index</a></li>
  </ul>
  <div class="SubTab">Geoloqi IRC</div>
</div>
<div class="page">

<h2>2011-06-04</h2>

<div class="irclogs">
<div id="t1307204037000" class="msg-wiki"><a href="/irc/2011-06-04#t1307204037000" class="time">09:13</a> &lt;Loqi&gt; [[API/Account Methods]]  <a href="http://geoloqi.org/wiki/index.php?diff=713&amp;oldid=416&amp;rcid=744">http://geoloqi.org/wiki/index.php?diff=713&amp;oldid=416&amp;rcid=744</a> * Aaronpk * (+156) </div>
<div id="t1307205585000" class="msg-wiki"><a href="/irc/2011-06-04#t1307205585000" class="time">09:39</a> &lt;Loqi&gt; [[API/account/set apn token]] N <a href="http://geoloqi.org/wiki/index.php?oldid=714&amp;rcid=745">http://geoloqi.org/wiki/index.php?oldid=714&amp;rcid=745</a> * Aaronpk * (+3306) Created page with '== URL == {{API_Endpoint|account/set_apn_token}}  == Supported Request Methods == POST  == Parameters == * {{API_Param|param=device_id|note=Required|description=The Apple device â€¦'</div>
<div id="t1307213600000" class="msg-join"><a href="/irc/2011-06-04#t1307213600000" class="time">11:53</a> MarkDilley joined #geoloqi</div>
<div id="t1307235099000" class="msg-join"><a href="/irc/2011-06-04#t1307235099000" class="time">17:51</a> Jeff_ joined #geoloqi</div>
<div id="t1307235198000" class="msg-join"><a href="/irc/2011-06-04#t1307235198000" class="time">17:53</a> Jeff_Lam joined #geoloqi</div>
<div id="t1307235237000" class="msg-message"><a href="/irc/2011-06-04#t1307235237000" class="time">17:53</a> &lt;Jeff_Lam&gt; Hey Aaron. I just sent you my app's UA key &amp; secret. Sorry for the late reply. RHoK ATL actually started *yesterday* at noon Eastern time and ended today at noon.</div>
<div id="t1307235326000" class="msg-message"><a href="/irc/2011-06-04#t1307235326000" class="time">17:55</a> &lt;aaronpk&gt; got it!</div>
<div id="t1307235332000" class="msg-message"><a href="/irc/2011-06-04#t1307235332000" class="time">17:55</a> &lt;aaronpk&gt; oh crazy, ours started this morning and goes until tomorrow</div>
<div id="t1307235621000" class="msg-message"><a href="/irc/2011-06-04#t1307235621000" class="time">18:00</a> &lt;aaronpk&gt; did you guys get very far?</div>
<div id="t1307235684000" class="msg-message"><a href="/irc/2011-06-04#t1307235684000" class="time">18:01</a> &lt;aaronpk&gt; can I see your project page?</div>
<div id="t1307235702000" class="msg-message"><a href="/irc/2011-06-04#t1307235702000" class="time">18:01</a> &lt;Jeff_Lam&gt; Yeah, our &quot;good samaritan&quot; app sends out push notifications to the nearest good samaritans and uses the Twilio API to initiate a phone call between the first responder and the person in distress.</div>
<div id="t1307235723000" class="msg-message"><a href="/irc/2011-06-04#t1307235723000" class="time">18:02</a> &lt;aaronpk&gt; that's awesome!</div>
<div id="t1307235737000" class="msg-message"><a href="/irc/2011-06-04#t1307235737000" class="time">18:02</a> &lt;Jeff_Lam&gt; We didn't geolocate the nearest people for our demo since our test clients and teammates were colocated.</div>
<div id="t1307235771000" class="msg-message"><a href="/irc/2011-06-04#t1307235771000" class="time">18:02</a> &lt;aaronpk&gt; hehe yea, probably fine for a demo</div>
<div id="t1307235792000" class="msg-message"><a href="/irc/2011-06-04#t1307235792000" class="time">18:03</a> &lt;Jeff_Lam&gt; I still haven't created a project page on rhok.org yet, but you can look at my github repo: <a href="https://github.com/Agent007">https://github.com/Agent007</a></div>
<div id="t1307235846000" class="msg-message"><a href="/irc/2011-06-04#t1307235846000" class="time">18:04</a> &lt;Jeff_Lam&gt; I used the Titanium IDE to code the iOS app in JavaScript and it translates it to Obj-C and compiles it.</div>
<div id="t1307235921000" class="msg-message"><a href="/irc/2011-06-04#t1307235921000" class="time">18:05</a> &lt;Jeff_Lam&gt; The &quot;good samaritan&quot; app is really the &quot;e911&quot; repo since I originally envisioned it as a crowdsourcing feature of an greater enhanced 911 system.</div>
<div id="t1307235937000" class="msg-message"><a href="/irc/2011-06-04#t1307235937000" class="time">18:05</a> &lt;aaronpk&gt; sweet, that's a neat idea</div>
<div id="t1307236000000" class="msg-message"><a href="/irc/2011-06-04#t1307236000000" class="time">18:06</a> &lt;Jeff_Lam&gt; Well, the FCC recently released the standards definition for e911 and there are already similar iPhone apps out there such as Guardly</div>
<div id="t1307236146000" class="msg-message"><a href="/irc/2011-06-04#t1307236146000" class="time">18:09</a> &lt;Jeff_Lam&gt; Eventually, I would like to include an audio/video streaming session with someone acting as a 911 operator via something like the SkypeKit, which is currently in limited beta.</div>
<div id="t1307236521000" class="msg-message"><a href="/irc/2011-06-04#t1307236521000" class="time">18:15</a> &lt;aaronpk&gt; wow, that would be super intense!</div>
<div id="t1307241840000" class="msg-message"><a href="/irc/2011-06-04#t1307241840000" class="time">19:44</a> &lt;Jeff_Lam&gt; Aaron, I just tried the broadcast and it thinks it sent the push notifications to my mobile app, but I didn't see it :-( This time, I made sure I used the &quot;broadcast&quot; instead of the &quot;count_broadcast&quot; method :-)</div>
<div id="t1307242259000" class="msg-join"><a href="/irc/2011-06-04#t1307242259000" class="time">19:50</a> Jeff_Lam joined #geoloqi</div>
<div id="t1307242359000" class="msg-message"><a href="/irc/2011-06-04#t1307242359000" class="time">19:52</a> &lt;Jeff_Lam&gt; No rush, Aaron. I'm willing to work on this later.I think I'm gonna call it a night soon.</div>
<div id="t1307247255000" class="msg-message"><a href="/irc/2011-06-04#t1307247255000" class="time">21:14</a> &lt;aaronpk&gt; hey, took off to get some dinner, I was super hungry</div>
<div id="t1307248214000" class="msg-message"><a href="/irc/2011-06-04#t1307248214000" class="time">21:30</a> &lt;aaronpk&gt; Jeff_Lam: can you check in urban airship to see if their stats show any pushes were attempted? also check their error console to see if anything is there</div>
<div id="t1307248397000" class="msg-message"><a href="/irc/2011-06-04#t1307248397000" class="time">21:33</a> &lt;Jeff_Lam&gt; Just tried again. Nothing on my UA error console and zero messages sent according to their stats page.</div>
<div id="t1307248433000" class="msg-message"><a href="/irc/2011-06-04#t1307248433000" class="time">21:33</a> &lt;aaronpk&gt; k i'm going to turn on debugging and then try it again</div>
<div id="t1307248493000" class="msg-message"><a href="/irc/2011-06-04#t1307248493000" class="time">21:34</a> &lt;aaronpk&gt; k go ahead</div>
<div id="t1307248866000" class="msg-message"><a href="/irc/2011-06-04#t1307248866000" class="time">21:41</a> &lt;aaronpk&gt; oh strange, I got this error from UA: &quot;device_token contains an invalid device token: 0&quot;</div>
<div id="t1307248920000" class="msg-message"><a href="/irc/2011-06-04#t1307248920000" class="time">21:42</a> &lt;Jeff_Lam&gt; Ok, let me check my device token</div>
<div id="t1307249048000" class="msg-message"><a href="/irc/2011-06-04#t1307249048000" class="time">21:44</a> &lt;aaronpk&gt; k I see a &quot;0&quot; for one of your devices. I'm going to make my end ignore it if it's 0, but you should check to see why it would have sent a 0 anyway</div>
<div id="t1307249239000" class="msg-message"><a href="/irc/2011-06-04#t1307249239000" class="time">21:47</a> &lt;aaronpk&gt; ok, I removed the &quot;0&quot; from that broadcast and attempted to send it again, did you get that one?</div>
<div id="t1307249245000" class="msg-message"><a href="/irc/2011-06-04#t1307249245000" class="time">21:47</a> &lt;aaronpk&gt; I didn't get an error from UA this time</div>
<div id="t1307249326000" class="msg-message"><a href="/irc/2011-06-04#t1307249326000" class="time">21:48</a> &lt;Jeff_Lam&gt; According to my debug output, my device token is normal. Hmmm...</div>
<div id="t1307249342000" class="msg-message"><a href="/irc/2011-06-04#t1307249342000" class="time">21:49</a> &lt;Jeff_Lam&gt; I just tried re-registering my device token again.</div>
<div id="t1307249379000" class="msg-message"><a href="/irc/2011-06-04#t1307249379000" class="time">21:49</a> &lt;Jeff_Lam&gt; Oh, yeah, I think I did get a broadcast from you.</div>
<div id="t1307249410000" class="msg-message"><a href="/irc/2011-06-04#t1307249410000" class="time">21:50</a> &lt;aaronpk&gt; awesome!</div>
<div id="t1307249431000" class="msg-message"><a href="/irc/2011-06-04#t1307249431000" class="time">21:50</a> &lt;Jeff_Lam&gt; I got it on my iPhone, but not my iPad.</div>
<div id="t1307249513000" class="msg-message"><a href="/irc/2011-06-04#t1307249513000" class="time">21:51</a> &lt;aaronpk&gt; I think it's the &quot;0&quot; that's causing the glitch, let me remove the 0 from the list</div>
<div id="t1307249522000" class="msg-message"><a href="/irc/2011-06-04#t1307249522000" class="time">21:52</a> &lt;Jeff_Lam&gt; My iPad is the one that you've been getting a device token of zero for. I've not updated my app on my iPhone yet.</div>
<div id="t1307249549000" class="msg-message"><a href="/irc/2011-06-04#t1307249549000" class="time">21:52</a> &lt;Jeff_Lam&gt; Ok, let me know when you've removed it.</div>
<div id="t1307249556000" class="msg-message"><a href="/irc/2011-06-04#t1307249556000" class="time">21:52</a> &lt;aaronpk&gt; ok it's gone</div>
<div id="t1307249573000" class="msg-message"><a href="/irc/2011-06-04#t1307249573000" class="time">21:52</a> &lt;Jeff_Lam&gt; Ok, let me try re-registering my device...</div>
<div id="t1307249706000" class="msg-message"><a href="/irc/2011-06-04#t1307249706000" class="time">21:55</a> &lt;Jeff_Lam&gt; I just re-registered it.</div>
<div id="t1307249724000" class="msg-message"><a href="/irc/2011-06-04#t1307249724000" class="time">21:55</a> &lt;aaronpk&gt; didn't see an error from UA, did you get it?</div>
<div id="t1307249751000" class="msg-message"><a href="/irc/2011-06-04#t1307249751000" class="time">21:55</a> &lt;aaronpk&gt; and it definitely tried to send it to your ipad</div>
<div id="t1307249771000" class="msg-message"><a href="/irc/2011-06-04#t1307249771000" class="time">21:56</a> &lt;Jeff_Lam&gt; I got it on my iPhone, which doesn't have the call to the geoloqi set_apn_token...</div>
<div id="t1307249834000" class="msg-message"><a href="/irc/2011-06-04#t1307249834000" class="time">21:57</a> &lt;aaronpk&gt; that's actually quite odd...unless my code isn't using the proper UA account...</div>
<div id="t1307249934000" class="msg-message"><a href="/irc/2011-06-04#t1307249934000" class="time">21:58</a> &lt;Jeff_Lam&gt; Maybe the reason you got &quot;0&quot; was because it was trying to register my iPad2's device token, but it was already registered in *my* UA app...</div>
<div id="t1307250072000" class="msg-message"><a href="/irc/2011-06-04#t1307250072000" class="time">22:01</a> &lt;Jeff_Lam&gt; In other words, since you already have my UA app's ID &amp; secret, do you really need to register all the mobile devices for my app onto geoloqi?</div>
<div id="t1307250156000" class="msg-message"><a href="/irc/2011-06-04#t1307250156000" class="time">22:02</a> &lt;aaronpk&gt; well I was under the impression that the device tokens are unique to an application, so when your app registers for push notifications it would get a different token than the geoloqi app got</div>
<div id="t1307250230000" class="msg-message"><a href="/irc/2011-06-04#t1307250230000" class="time">22:03</a> &lt;Jeff_Lam&gt; Yeah, good point.</div>
<div id="t1307250309000" class="msg-message"><a href="/irc/2011-06-04#t1307250309000" class="time">22:05</a> &lt;aaronpk&gt; ok yea it's not using your account yet :/ let me trace it real quick</div>
<div id="t1307250325000" class="msg-message"><a href="/irc/2011-06-04#t1307250325000" class="time">22:05</a> &lt;Jeff_Lam&gt; ok</div>
<div id="t1307250585000" class="msg-message"><a href="/irc/2011-06-04#t1307250585000" class="time">22:09</a> &lt;aaronpk&gt; oh! hmm... are you using your permanent access token for sending the broadcast message?</div>
<div id="t1307250601000" class="msg-message"><a href="/irc/2011-06-04#t1307250601000" class="time">22:10</a> &lt;Jeff_Lam&gt; I just deleted the geoloqi app on my iPhone and tried another broadcast message. I didn't receive a message this time :-) I made sure my geoloqi app was turned off for a while, but it must've still somehow gotten the broadcast message.</div>
<div id="t1307250613000" class="msg-message"><a href="/irc/2011-06-04#t1307250613000" class="time">22:10</a> &lt;Jeff_Lam&gt; Yeah I was using my permanent token.</div>
<div id="t1307250688000" class="msg-message"><a href="/irc/2011-06-04#t1307250688000" class="time">22:11</a> &lt;aaronpk&gt; ok so that's what's wrong then. It will use the client that was authenticated when making the message/broadcast request when looking for a UA acount.</div>
<div id="t1307250704000" class="msg-message"><a href="/irc/2011-06-04#t1307250704000" class="time">22:11</a> &lt;aaronpk&gt; if you use an access token that you got from your app, then it should use your UA account instead</div>
<div id="t1307250705000" class="msg-message"><a href="/irc/2011-06-04#t1307250705000" class="time">22:11</a> &lt;Jeff_Lam&gt; Ah ok.</div>
<div id="t1307250754000" class="msg-message"><a href="/irc/2011-06-04#t1307250754000" class="time">22:12</a> &lt;Jeff_Lam&gt; Ok, I will try that. Gonna call it a night for real now :-)</div>
<div id="t1307250871000" class="msg-message"><a href="/irc/2011-06-04#t1307250871000" class="time">22:14</a> &lt;aaronpk&gt; ok sounds good! i'll b e back at the hackathon tomorrow!</div>
</div>

</div>
    </div>
	</body>
</html>
