<?xml version="1.0" encoding="utf-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-ca">
<head>
   <title>Appcelerator and Geoloqi - anon subscription and creation of places/triggers - Geoloqi Community</title>
<link rel="stylesheet" type="text/css" href="/themes/geoloqi/design/style.css?v=2.0.18.1" media="all" />
<link rel="stylesheet" type="text/css" href="/plugins/FileUpload/design/fileupload.css?v=1.5.2" media="all" />
<link rel="stylesheet" type="text/css" href="/plugins/Voting/design/voting.css?v=1.1.1b" media="all" />
<!--[if gt IE 6]><link rel="stylesheet" type="text/css" href="/plugins/cleditor/design/jquery.cleditor.css?v=1.1" media="all" /><![endif]-->
<!--[if !IE]> --><link rel="stylesheet" type="text/css" href="/plugins/cleditor/design/jquery.cleditor.css?v=1.1" media="all" /><!-- <![endif]-->
<link rel="shortcut icon" href="/themes/geoloqi/design/favicon.png" type="image/x-icon" />
<link rel="canonical" href="http://community.geoloqi.com/discussion/138/appcelerator-and-geoloqi-anon-subscription-and-creation-of-placestriggers/p1" />
<script src="/js/library/jquery.js?v=2.0.18.1" type="text/javascript"></script>
<script src="/js/library/jquery.livequery.js?v=2.0.18.1" type="text/javascript"></script>
<script src="/js/library/jquery.form.js?v=2.0.18.1" type="text/javascript"></script>
<script src="/js/library/jquery.popup.js?v=2.0.18.1" type="text/javascript"></script>
<script src="/js/library/jquery.gardenhandleajaxform.js?v=2.0.18.1" type="text/javascript"></script>
<script src="/js/global.js?v=2.0.18.1" type="text/javascript"></script>
<script src="/js/library/jquery.ui.packed.js?v=2.0.18.1" type="text/javascript"></script>
<script src="/applications/vanilla/js/options.js?v=2.0.18.1" type="text/javascript"></script>
<script src="/applications/vanilla/js/bookmark.js?v=2.0.18.1" type="text/javascript"></script>
<script src="/applications/vanilla/js/discussion.js?v=2.0.18.1" type="text/javascript"></script>
<script src="/applications/vanilla/js/autosave.js?v=2.0.18.1" type="text/javascript"></script>
<script src="/plugins/FileUpload/js/fileupload.js?v=1.5.2" type="text/javascript"></script>
<script src="/plugins/Voting/voting.js?v=1.1.1b" type="text/javascript"></script>
<!--[if gt IE 6]><script src="/plugins/cleditor/js/jquery.cleditor.min.js?v=1.1" type="text/javascript"></script><![endif]-->
<!--[if !IE]> --><script src="/plugins/cleditor/js/jquery.cleditor.min.js?v=1.1" type="text/javascript"></script><!-- <![endif]-->
<style type="text/css">
a.PreviewButton {
	display: none !important;
}
</style>
<script type="text/javascript">
	jQuery(document).ready(function($) {
		// Make sure the removal of autogrow does not break anything
		jQuery.fn.autogrow = function(o) { return; }
		// Attach the editor to comment boxes
		jQuery("#Form_Body").livequery(function() {
			var frm = $(this).parents("div.CommentForm");
			ed = jQuery(this).cleditor({width:"100%", height:"100%"})[0];
			this.editor = ed; // Support other plugins!
			jQuery(frm).bind("clearCommentForm", {editor:ed}, function(e) {
				frm.find("textarea").hide();
				e.data.editor.clear();
			});
		});
	});
</script>
<script type="text/javascript">var _gaq = _gaq || [];_gaq.push(['_setAccount', 'UA-25750303-8']);_gaq.push(['_trackPageview']);(function() {var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);})();
</script>
  <link rel="pingback" href="http://pingback.me/geoloqi/xmlrpc" />
</head>
<body id="vanilla_discussion_comment" class="Vanilla Discussion comment ">
   <div id="Frame">
      <div id="Head">
         <div class="Menu">
            <h1><a class="Title" href="/"><span><img src="http://community.geoloqi.com/uploads/UCF5TIEJOT0K.png" alt="Geoloqi Community" /></span></a></h1>
            <ul id="Menu"><li class=" Highlight"><a href="/discussions">Discussions</a></li>
<li><a href="/irc">IRC</a></li>
<li class="NonTab"><a href="/entry/signin?Target=discussion%2Fcomment%2F413">Sign In</a></li>
</ul>            <div class="Search"><form method="get" action="/search">
<div>
<input type="text" id="Form_Search" name="Search" value="" class="InputBox" /><input type="submit" id="Form_Go" value="Go" class="Button" />
</div>
</form></div>
         </div>
      </div>
      <div id="Body">
         <div id="Content"><div class="Tabs HeadingTabs DiscussionTabs FirstPage">
   
   <ul>
      <li><a href="/categories/bug-reports" class="TabLink">Bug Reports</a></li>
   </ul>
   <div class="SubTab">Appcelerator and Geoloqi - anon subscription and creation of places/triggers</div>
</div>
<ul class="DataList MessageList Discussion FirstPage">
   <li class="Item Comment FirstComment" id="Discussion_138">
   <div class="Comment">
      <div class="Meta">
         <span class="Votes"><a href="/entry/signin?Target=discussion%2Fcomment%2F413" class="VoteUp SignInPopup"><i class="ArrowSprite SpriteUp" rel="nofollow"><i>Vote Up</i></i></a><span>0</span><a href="/entry/signin?Target=discussion%2Fcomment%2F413" class="VoteDown SignInPopup"><i class="ArrowSprite SpriteDown" rel="nofollow"><i>Vote Down</i></i></a></span>         <span class="Author">
            <a href="/profile/372/bp4151">bp4151</a>         </span>
         <span class="DateCreated">
            <a href="/discussion/138/appcelerator-and-geoloqi-anon-subscription-and-creation-of-placestriggers/p1" class="Permalink" name="Item_1" rel="nofollow">October 2012</a>         </span>
                  <div class="CommentInfo">
                     </div>
               </div>
      <div class="Message">
			All,<div><br></div><div>This is my latest attempt.</div><div><br></div><div>1) I went to the Geoloqi website, located my application, and created a public layer there.&nbsp;</div><div>2) I marked down the layerID and added it to my defaultLayerID variable in my Appcelerator app.&nbsp;</div><div>3) I called geoloqi.init, passing all my params. One time I included my defaultLayerID variable as a layerIds parameter in the geoloqi.init call,&nbsp;<span style="font-size: 10pt;">another time I had a separate layer/subscribe call. Both showed successful subscription to the layer.&nbsp;</span></div><div><span style="font-size: 10pt;"><br></span></div><div><span style="font-size: 10pt;">Neither allows the creation of a place or a trigger on that layer, despite my anonymous user being subscribed to that layer and the layer being marked public.&nbsp;</span></div><div><br></div><div>Any suggestions? I am at wits end with this. I really need to get this working as all other features of my app are done.&nbsp;</div><div><br></div><div>Thanks,</div><div>Bruce</div>		</div>
         </div>
</li>
		<li>
			<div class="Tabs DiscussionTabs AnswerTabs">
			<strong>3 Comments</strong> sorted by 
				<ul>
					<li class="Active"><a href="http://community.geoloqi.com/discussion/comment/413?Sort=popular" rel="nofollow">Votes</a></li>
					<li><a href="http://community.geoloqi.com/discussion/comment/413?Sort=date" rel="nofollow">Date Added</a></li>
				</ul>			</div>
		</li>
		<li class="Item Comment Alt" id="Comment_413">
   <div class="Comment">
      <div class="Meta">
         <span class="Votes"><a href="/entry/signin?Target=discussion%2Fcomment%2F413" class="VoteUp SignInPopup"><i class="ArrowSprite SpriteUp" rel="nofollow"><i>Vote Up</i></i></a><span>0</span><a href="/entry/signin?Target=discussion%2Fcomment%2F413" class="VoteDown SignInPopup"><i class="ArrowSprite SpriteDown" rel="nofollow"><i>Vote Down</i></i></a></span>         <span class="Author">
            <a href="/profile/18/kyledrake">kyledrake</a>         </span>
         <span class="DateCreated">
            <a href="/discussion/comment/413#Comment_413" class="Permalink" name="Item_2" rel="nofollow">October 2012</a>         </span>
                  <div class="CommentInfo">
                     </div>
               </div>
      <div class="Message">
			Hello Bruce,<br><br>I believe the issue is that the layer was created with the website. Right now the website only puts the layer on the "default layer" when you create one, which is the one used for our Geonotes demo app. So when you are trying to use it within your application, it thinks it's for a different application.<br><br>It would be nice to be able to choose the application for a layer at the very least. It would also be better if layers on here were organized by application. I will talk with the team and see if we can improve the interface this week.<br><br>Try creating a layer within the context of the application, either using one of the client libraries with your application access token (<a href="http://developers.geoloqi.com/sample-code" target="_blank" rel="nofollow">http://developers.geoloqi.com/sample-code</a>), or using the phone itself. I believe that will fix your problems.<br><br>Let me know if you are still having this issue after that. Thank you for reporting this!<br><br>Kyle<br>		</div>
         </div>
</li>
<li class="Item Comment" id="Comment_414">
   <div class="Comment">
      <div class="Meta">
         <span class="Votes"><a href="/entry/signin?Target=discussion%2Fcomment%2F413" class="VoteUp SignInPopup"><i class="ArrowSprite SpriteUp" rel="nofollow"><i>Vote Up</i></i></a><span>0</span><a href="/entry/signin?Target=discussion%2Fcomment%2F413" class="VoteDown SignInPopup"><i class="ArrowSprite SpriteDown" rel="nofollow"><i>Vote Down</i></i></a></span>         <span class="Author">
            <a href="/profile/31/patrickarlt">patrickarlt</a>         </span>
         <span class="DateCreated">
            <a href="/discussion/comment/414#Comment_414" class="Permalink" name="Item_3" rel="nofollow">October 2012</a>         </span>
                  <div class="CommentInfo">
                     </div>
               </div>
      <div class="Message">
			Hi bp4151,<div><br></div><div>Where are you trying to create the triggers? are you creating them at&nbsp;<a rel="nofollow" href="http://developers.geoloqi.com/account/layers">http://developers.geoloqi.com/account/layers</a>&nbsp;or are you trying to create then through your Titanium Application?</div><div><br></div><div>If you are trying to create them through your application then you will see permissions errors because your user is attempting to create triggers/places on a layer they do not own. It is owned by your application.</div><div><br></div><div>If you just want to create triggers for just the user of your app don't need a layer. Just call <a rel="nofollow" href="http://developers.geoloqi.com/api/trigger/create">trigger/create</a>&nbsp;in your Titanium App and a trigger will be setup for just the authenticated user.</div><div><br></div><div>The other alternative is to have the phone make a request to your server (assuming you have a server) and have the server make the trigger on the layer (With the application access token)</div><div><br></div><div>YOu should take a look at our new <a rel="nofollow" href="http://developers.geoloqi.com/api/layers-places-and-triggers">Layer, Places, and Triggers</a>&nbsp;section for the different use cases of triggers layers and places and our <a rel="nofollow" href="http://developers.geoloqi.com/api/authentication">Authentication</a> section for more info on permissions and access tokens.</div>		</div>
         </div>
</li>
<li class="Item Comment Alt" id="Comment_415">
   <div class="Comment">
      <div class="Meta">
         <span class="Votes"><a href="/entry/signin?Target=discussion%2Fcomment%2F413" class="VoteUp SignInPopup"><i class="ArrowSprite SpriteUp" rel="nofollow"><i>Vote Up</i></i></a><span>0</span><a href="/entry/signin?Target=discussion%2Fcomment%2F413" class="VoteDown SignInPopup"><i class="ArrowSprite SpriteDown" rel="nofollow"><i>Vote Down</i></i></a></span>         <span class="Author">
            <a href="/profile/372/bp4151">bp4151</a>         </span>
         <span class="DateCreated">
            <a href="/discussion/comment/415#Comment_415" class="Permalink" name="Item_4" rel="nofollow">October 2012</a>         </span>
                  <div class="CommentInfo">
                     </div>
               </div>
      <div class="Message">
			Patrick and Kyle,<div><br></div><div>First, thank you very much for your response over the weekend. I really appreciate it as I am trying to do this project for free in my off time, and that often doesn't mesh with regular support schedules.&nbsp;</div><div><br></div><div>As for my layer, I want a single default layer in which anonymous mobile users can create places, triggers, and send messages. I had it set up originally where the phone was creating the layer each time and was using a key so it would not get recreated if it existed, but then all of a sudden my current users could no longer access that default layer.</div><div><br></div><div>Now in order to create that layer again, this time using the access token, I just need the parameter name. I didn't see it in the layer/create docs, but I haven't looked in the sample code yet.&nbsp;</div><div><br></div><div>Thanks again...</div><div><br></div><div>Bruce</div><div><br></div>		</div>
         </div>
</li>
</ul>
   <div class="Foot">
      <a href="/entry/signin?Target=discussion%2Fcomment%2F413%3Fpost%23Form_Body" class="TabLink">Add a Comment</a> 
   </div>
   </div>
         <div id="Panel"><div class="Box GuestBox">
   <h4>Howdy, Stranger!</h4>
   <p>It looks like you're new here. If you want to get involved, click one of these buttons!</p>
      
   <div class="P"><a href="/entry/signin?Target=discussion%2Fcomment%2F413" class="Button">Sign In</a> <a href="/entry/register?Target=discussion%2Fcomment%2F413" class="Button ApplyButton">Apply for Membership</a></div>   </div><div class="Box BoxCategories">
   <h4><a href="/categories/all">Categories</a></h4>
   <ul class="PanelInfo PanelCategories">
      <li><span><strong><a href="/discussions">All Discussions</a></strong><span class="Count">340</span></span></li>
<li class="Depth1 Active"><strong><a href="/categories/bug-reports">Bug Reports</a></strong><span class="Count">89</span></li>
<li class="Depth1"><strong><a href="/categories/feature-requests">Feature Requests</a></strong><span class="Count">7</span></li>
<li class="Depth1"><strong><a href="/categories/support">Support</a></strong><span class="Count">88</span></li>
<li class="Depth1"><strong><a href="/categories/layers">Layers</a></strong><span class="Count">132</span></li>
<li class="Depth1"><strong><a href="/categories/general">General</a></strong><span class="Count">24</span></li>
   </ul>
</div>
         <div class="Box">
         <h4>In this Discussion</h4>
         <ul class="PanelInfo">
                     <li>
               <strong><a href="/profile/372/bp4151" class="UserLink">bp4151</a></strong>
               October 2012            </li>
                        <li>
               <strong><a href="/profile/18/kyledrake" class="UserLink">kyledrake</a></strong>
               October 2012            </li>
                        <li>
               <strong><a href="/profile/31/patrickarlt" class="UserLink">patrickarlt</a></strong>
               October 2012            </li>
                     </ul>
      </div>
      </div>
      </div>
      <div id="Foot">
			<!-- Various definitions for Javascript //-->
<div id="Definitions" style="display: none;">
<input type="hidden" id="ImageResized" value="This image has been resized to fit in the page. Click to enlarge." />
<input type="hidden" id="DiscussionID" value="138" />
<input type="hidden" id="apcavailable" value="" />
<input type="hidden" id="uploaderuniq" value="54f24a93458a8" />
<input type="hidden" id="maxuploadsize" value="31457280" />
<input type="hidden" id="AnalyticsTask" value="tick" />
<input type="hidden" id="LastCommentID" value="415" />
<input type="hidden" id="Vanilla_Comments_AutoRefresh" value="0" />
<input type="hidden" id="TransportError" value="A fatal error occurred while processing the request.&lt;br /&gt;The server returned the following response: %s" />
<input type="hidden" id="TransientKey" value="61XH3ZQ1FCNP" />
<input type="hidden" id="WebRoot" value="http://community.geoloqi.com/" />
<input type="hidden" id="UrlFormat" value="/{Path}" />
<input type="hidden" id="Path" value="discussion/comment/413" />
<input type="hidden" id="SignedIn" value="0" />
<input type="hidden" id="ConfirmHeading" value="Confirm" />
<input type="hidden" id="ConfirmText" value="Are you sure you want to do that?" />
<input type="hidden" id="Okay" value="Okay" />
<input type="hidden" id="Cancel" value="Cancel" />
<input type="hidden" id="Search" value="Search" />
</div><div><a href="http://vanillaforums.org">Powered by Vanilla</a></div>		</div>
   </div>
	</body>
</html>
