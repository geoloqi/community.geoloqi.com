<?xml version="1.0" encoding="utf-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-ca">
<head>
   <title>Subsribing to People who check-in - Geoloqi Community</title>
<link rel="stylesheet" type="text/css" href="/themes/geoloqi/design/style.css?v=2.0.18.1" media="all" />
<link rel="stylesheet" type="text/css" href="/plugins/FileUpload/design/fileupload.css?v=1.5.2" media="all" />
<link rel="stylesheet" type="text/css" href="/plugins/Voting/design/voting.css?v=1.1.1b" media="all" />
<!--[if gt IE 6]><link rel="stylesheet" type="text/css" href="/plugins/cleditor/design/jquery.cleditor.css?v=1.1" media="all" /><![endif]-->
<!--[if !IE]> --><link rel="stylesheet" type="text/css" href="/plugins/cleditor/design/jquery.cleditor.css?v=1.1" media="all" /><!-- <![endif]-->
<link rel="shortcut icon" href="/themes/geoloqi/design/favicon.png" type="image/x-icon" />
<link rel="canonical" href="http://community.geoloqi.com/discussion/66/subsribing-to-people-who-check-in/p1" />
<script src="/js/library/jquery.js?v=2.0.18.1" type="text/javascript"></script>
<script src="/js/library/jquery.livequery.js?v=2.0.18.1" type="text/javascript"></script>
<script src="/js/library/jquery.form.js?v=2.0.18.1" type="text/javascript"></script>
<script src="/js/library/jquery.popup.js?v=2.0.18.1" type="text/javascript"></script>
<script src="/js/library/jquery.gardenhandleajaxform.js?v=2.0.18.1" type="text/javascript"></script>
<script src="/js/global.js?v=2.0.18.1" type="text/javascript"></script>
<script src="/js/library/jquery.ui.packed.js?v=2.0.18.1" type="text/javascript"></script>
<script src="/applications/vanilla/js/options.js?v=2.0.18.1" type="text/javascript"></script>
<script src="/applications/vanilla/js/bookmark.js?v=2.0.18.1" type="text/javascript"></script>
<script src="/applications/vanilla/js/discussion.js?v=2.0.18.1" type="text/javascript"></script>
<script src="/applications/vanilla/js/autosave.js?v=2.0.18.1" type="text/javascript"></script>
<script src="/plugins/FileUpload/js/fileupload.js?v=1.5.2" type="text/javascript"></script>
<script src="/plugins/Voting/voting.js?v=1.1.1b" type="text/javascript"></script>
<!--[if gt IE 6]><script src="/plugins/cleditor/js/jquery.cleditor.min.js?v=1.1" type="text/javascript"></script><![endif]-->
<!--[if !IE]> --><script src="/plugins/cleditor/js/jquery.cleditor.min.js?v=1.1" type="text/javascript"></script><!-- <![endif]-->
<style type="text/css">
a.PreviewButton {
	display: none !important;
}
</style>
<script type="text/javascript">
	jQuery(document).ready(function($) {
		// Make sure the removal of autogrow does not break anything
		jQuery.fn.autogrow = function(o) { return; }
		// Attach the editor to comment boxes
		jQuery("#Form_Body").livequery(function() {
			var frm = $(this).parents("div.CommentForm");
			ed = jQuery(this).cleditor({width:"100%", height:"100%"})[0];
			this.editor = ed; // Support other plugins!
			jQuery(frm).bind("clearCommentForm", {editor:ed}, function(e) {
				frm.find("textarea").hide();
				e.data.editor.clear();
			});
		});
	});
</script>
<script type="text/javascript">var _gaq = _gaq || [];_gaq.push(['_setAccount', 'UA-25750303-8']);_gaq.push(['_trackPageview']);(function() {var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);})();
</script>
  <link rel="pingback" href="http://pingback.me/geoloqi/xmlrpc" />
</head>
<body id="vanilla_discussion_comment" class="Vanilla Discussion comment ">
   <div id="Frame">
      <div id="Head">
         <div class="Menu">
            <h1><a class="Title" href="/"><span><img src="http://community.geoloqi.com/uploads/UCF5TIEJOT0K.png" alt="Geoloqi Community" /></span></a></h1>
            <ul id="Menu"><li class=" Highlight"><a href="/discussions">Discussions</a></li>
<li><a href="/irc">IRC</a></li>
<li class="NonTab"><a href="/entry/signin?Target=discussion%2Fcomment%2F191">Sign In</a></li>
</ul>            <div class="Search"><form method="get" action="/search">
<div>
<input type="text" id="Form_Search" name="Search" value="" class="InputBox" /><input type="submit" id="Form_Go" value="Go" class="Button" />
</div>
</form></div>
         </div>
      </div>
      <div id="Body">
         <div id="Content"><div class="Tabs HeadingTabs DiscussionTabs FirstPage">
   
   <ul>
      <li><a href="/categories/support" class="TabLink">Support</a></li>
   </ul>
   <div class="SubTab">Subsribing to People who check-in</div>
</div>
<ul class="DataList MessageList Discussion FirstPage">
   <li class="Item Comment FirstComment" id="Discussion_66">
   <div class="Comment">
      <div class="Meta">
         <span class="Votes"><a href="/entry/signin?Target=discussion%2Fcomment%2F191" class="VoteUp SignInPopup"><i class="ArrowSprite SpriteUp" rel="nofollow"><i>Vote Up</i></i></a><span>0</span><a href="/entry/signin?Target=discussion%2Fcomment%2F191" class="VoteDown SignInPopup"><i class="ArrowSprite SpriteDown" rel="nofollow"><i>Vote Down</i></i></a></span>         <span class="Author">
            <a href="/profile/303/marcoschierhorn">marcoschierhorn</a>         </span>
         <span class="DateCreated">
            <a href="/discussion/66/subsribing-to-people-who-check-in/p1" class="Permalink" name="Item_1" rel="nofollow">May 2012</a>         </span>
                  <div class="CommentInfo">
                     </div>
               </div>
      <div class="Message">
			HI Geoloqi community and support. We are currently developing a plattform with 2 different types of users.<br>First type of users will have a special status. The 2nd type of users can subscribe to them like fans. They get then status updates and news from the first type of users they did subscribe.<br>When they check-in at a location this should be broadcastes to their fans. The fans can choose which type of notifcations they want to get:<br><br><span style="font-size:16px;font-family:Arial;color:#000000;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;" id="internal-source-marker_0.3255541553836303">• all users of the first group</span><br><span style="font-size:16px;font-family:Arial;color:#000000;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;">• or the users they are following</span><br><span style="font-size:16px;font-family:Arial;color:#000000;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;">• which are within 10, 20, 50, 100, ... km</span><br><span style="font-size:16px;font-family:Arial;color:#000000;background-color:transparent;font-weight:normal;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;">• all</span><br><br>So how would you do this with Geoloqi? With groups or layers? And the stars left notes? Can anyone provide me an example for it? <br>Or any other suggestions? Would be highly appreciated. I think that we also would have to subsribce to the Triceratops or Tyrannosaurus plan.<br>So a hint or suggestion by the suppport of Geoloqi would be highly appreciated. We would also use the Titanium module<br><br>Thanks a lot,<br>Marco<br>		</div>
         </div>
</li>
		<li>
			<div class="Tabs DiscussionTabs AnswerTabs">
			<strong>1 Comment</strong> sorted by 
				<ul>
					<li class="Active"><a href="http://community.geoloqi.com/discussion/comment/191?Sort=popular" rel="nofollow">Votes</a></li>
					<li><a href="http://community.geoloqi.com/discussion/comment/191?Sort=date" rel="nofollow">Date Added</a></li>
				</ul>			</div>
		</li>
		<li class="Item Comment Alt" id="Comment_191">
   <div class="Comment">
      <div class="Meta">
         <span class="Votes"><a href="/entry/signin?Target=discussion%2Fcomment%2F191" class="VoteUp SignInPopup"><i class="ArrowSprite SpriteUp" rel="nofollow"><i>Vote Up</i></i></a><span>0</span><a href="/entry/signin?Target=discussion%2Fcomment%2F191" class="VoteDown SignInPopup"><i class="ArrowSprite SpriteDown" rel="nofollow"><i>Vote Down</i></i></a></span>         <span class="Author">
            <a href="/profile/31/patrickarlt">patrickarlt</a>         </span>
         <span class="DateCreated">
            <a href="/discussion/comment/191#Comment_191" class="Permalink" name="Item_2" rel="nofollow">May 2012</a>         </span>
                  <div class="CommentInfo">
                     </div>
               </div>
      <div class="Message">
			Hi&nbsp;<span style="text-align: left; background-color: rgb(255, 255, 255);">marco,</span><div><div style="text-align: left;"><br></div><div style="text-align: left;">I had a lot of fun coming up with an answer to this question.</div><div><span style="text-align: left; background-color: rgb(255, 255, 255);"><br></span></div><div><span style="text-align: left; background-color: rgb(255, 255, 255);">You would&nbsp;definitely&nbsp;want to use the groups api. I am thinking it would work something like this...</span></div><div><span style="text-align: left; background-color: rgb(255, 255, 255);"><br></span></div><div><span style="text-align: left; background-color: rgb(255, 255, 255);">1. Associate each of your users with "Special Status" has a group which is comprised of their followers.</span></div><div><span style="text-align: left; background-color: rgb(255, 255, 255);">2. When a "Special Status" user checks in it kicks off an action on your server which will determine who to send messages to. (the special user doesn't have to be part of the group)</span></div><div><span style="text-align: left; background-color: rgb(255, 255, 255);">3. The server would call <a rel="nofollow" href="https://developers.geoloqi.com/api/group/locations/:token">group/locations</a>&nbsp;to get the last known location of all members in the group. you can then calculate the distance of each user in the group to the special user (you can get that users location with <a rel="nofollow" href="https://developers.geoloqi.com/api/location/last">location/last</a>).</span></div><div><span style="text-align: left; background-color: rgb(255, 255, 255);">4. Once you know the distance of all that users followers to the special user you can use <a rel="nofollow" href="https://developers.geoloqi.com/api/group/message/:token">group/message</a>&nbsp;to send the message to subsets of users in the group. (Check out the `push` parmeter)</span></div><div><span style="text-align: left; background-color: rgb(255, 255, 255);">5. For followers who want all update from all special&nbsp;users, you could make a group which contains all users who want all messages from all special user and message the whole group using&nbsp;</span><a rel="nofollow" href="https://developers.geoloqi.com/api/group/message/:token" style="text-align: left;">group/message</a></div><div><span style="text-align: left; background-color: rgb(255, 255, 255);"><br></span></div><div><span style="text-align: left; background-color: rgb(255, 255, 255);">Here is a helpful gists for&nbsp;</span><a rel="nofollow" href="https://gist.github.com/2844227" style="text-align: left;">calculating distances in javascript</a><span style="background-color: rgb(255, 255, 255); text-align: left;">&nbsp;remember the Earth is a sphere not flat so some special math is required.</span></div><div><span style="background-color: rgb(255, 255, 255); text-align: left;"><br></span></div><div><span style="background-color: rgb(255, 255, 255); text-align: left;">I would really recommend reading through the groups, user and messages apis, to get a good understanding of them. You might also want to check out&nbsp;</span><a rel="nofollow" href="https://developers.geoloqi.com/api/De-Duplication_and_Extra_Parameters">https://developers.geoloqi.com/api/De-Duplication_and_Extra_Parameters</a>&nbsp;which give you an overview of how you can store custom data in the Geoloqi database.</div><div><br></div><div>If you have any more questions feel free to ask,</div><div><br></div><div>Patrick</div><div><span style="text-align: left; background-color: rgb(255, 255, 255);"><br></span></div><div><span style="text-align: left; background-color: rgb(255, 255, 255);"><br></span></div></div>		</div>
         </div>
</li>
</ul>
   <div class="Foot">
      <a href="/entry/signin?Target=discussion%2Fcomment%2F191%3Fpost%23Form_Body" class="TabLink">Add a Comment</a> 
   </div>
   </div>
         <div id="Panel"><div class="Box GuestBox">
   <h4>Howdy, Stranger!</h4>
   <p>It looks like you're new here. If you want to get involved, click one of these buttons!</p>
      
   <div class="P"><a href="/entry/signin?Target=discussion%2Fcomment%2F191" class="Button">Sign In</a> <a href="/entry/register?Target=discussion%2Fcomment%2F191" class="Button ApplyButton">Apply for Membership</a></div>   </div><div class="Box BoxCategories">
   <h4><a href="/categories/all">Categories</a></h4>
   <ul class="PanelInfo PanelCategories">
      <li><span><strong><a href="/discussions">All Discussions</a></strong><span class="Count">340</span></span></li>
<li class="Depth1"><strong><a href="/categories/bug-reports">Bug Reports</a></strong><span class="Count">89</span></li>
<li class="Depth1"><strong><a href="/categories/feature-requests">Feature Requests</a></strong><span class="Count">7</span></li>
<li class="Depth1 Active"><strong><a href="/categories/support">Support</a></strong><span class="Count">88</span></li>
<li class="Depth1"><strong><a href="/categories/layers">Layers</a></strong><span class="Count">132</span></li>
<li class="Depth1"><strong><a href="/categories/general">General</a></strong><span class="Count">24</span></li>
   </ul>
</div>
         <div class="Box">
         <h4>In this Discussion</h4>
         <ul class="PanelInfo">
                     <li>
               <strong><a href="/profile/31/patrickarlt" class="UserLink">patrickarlt</a></strong>
               May 2012            </li>
                     </ul>
      </div>
      </div>
      </div>
      <div id="Foot">
			<!-- Various definitions for Javascript //-->
<div id="Definitions" style="display: none;">
<input type="hidden" id="ImageResized" value="This image has been resized to fit in the page. Click to enlarge." />
<input type="hidden" id="DiscussionID" value="66" />
<input type="hidden" id="apcavailable" value="" />
<input type="hidden" id="uploaderuniq" value="54f24ae991249" />
<input type="hidden" id="maxuploadsize" value="31457280" />
<input type="hidden" id="AnalyticsTask" value="tick" />
<input type="hidden" id="LastCommentID" value="191" />
<input type="hidden" id="Vanilla_Comments_AutoRefresh" value="0" />
<input type="hidden" id="TransportError" value="A fatal error occurred while processing the request.&lt;br /&gt;The server returned the following response: %s" />
<input type="hidden" id="TransientKey" value="L267P57ZSUM0" />
<input type="hidden" id="WebRoot" value="http://community.geoloqi.com/" />
<input type="hidden" id="UrlFormat" value="/{Path}" />
<input type="hidden" id="Path" value="discussion/comment/191" />
<input type="hidden" id="SignedIn" value="0" />
<input type="hidden" id="ConfirmHeading" value="Confirm" />
<input type="hidden" id="ConfirmText" value="Are you sure you want to do that?" />
<input type="hidden" id="Okay" value="Okay" />
<input type="hidden" id="Cancel" value="Cancel" />
<input type="hidden" id="Search" value="Search" />
</div><div><a href="http://vanillaforums.org">Powered by Vanilla</a></div>		</div>
   </div>
	</body>
</html>
